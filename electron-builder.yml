appId: com.mwangiiharun.accelara
productName: ACCELARA
executableName: ACCELARA

directories:
  output: release
  buildResources: build

files:
  - "dist/**"
  - "electron/**"
  - "package.json"
  - "!node_modules/**"
  - "node_modules/sql.js/**"
  - "!**/*.md"
  - "!**/tests/**"
  - "!**/test/**"
  - "!.venv/**"
  - "!**/.venv/**"

extraResources:
  - from: "bin"
    to: "bin"

asar: true
asarUnpack:
  - "**/node_modules/sql.js/**"
  - "**/node_modules/sql.js/dist/**"
  - "**/node_modules/sql.js/dist/sql-wasm.wasm"
  - "**/node_modules/sql.js/dist/sql-wasm.js"

mac:
  category: public.app-category.utilities
  icon: build/icon.icns
  artifactName: "ACCELARA.${ext}"
  target:
    - dmg
  identity: null
  hardenedRuntime: false
  gatekeeperAssess: false
  notarize: false
  entitlementsInherit: null
  protocols:
    - name: Magnet Link
      schemes:
        - magnet

win:
  icon: build/icon.ico
  target:
    - nsis
  artifactName: "ACCELARA.${ext}"
  protocols:
    - name: Magnet Link
      schemes:
        - magnet

nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  artifactName: "ACCELARA-Installer-${arch}-${version}.${ext}"

linux:
  icon: build/icon.png
  target:
    - AppImage
  artifactName: "ACCELARA.${ext}"
  protocols:
    - name: Magnet Link
      schemes:
      - magnet
  category: Utility

publish:
  provider: github
  owner: mwangiiharun
  repo: accelara
  releaseType: release
  channel: latest
  publishAutoUpdate: true

fileAssociations:
  - ext: torrent
    name: Torrent File
    description: BitTorrent file
    mimeType: application/x-bittorrent

afterPack: "./build/afterPack.js"
